
<html>

<head>
    <title> User Form </title>
</head>

<body>
    <form name="form1" style="display: flex; flex-direction: column; justify-items: center; margin-top: 100px;">
        <div class="name">
            <label> Name : </label> 
            <input id="name" type="text" placeholder="Enter name">
           
        </div>
            <br><br>
        <div class="email">
            <label> Email ID :</label>
             <input id="email" type="email" placeholder="Enter Mail">
            
        </div>
        
        <button style="margin: 10px auto ;" type="submit" onclick="SubmitUser()">Submit</button>
        <button style="margin: 10px auto ;" type="button" onclick="show()">Show User</button>
    

        <div id="show" style="margin: 50px auto; width: 400px;">


        </div>
        

    </form>


   
</body>

<script>
    
    function SubmitUser() 
     {
        var obj = new Object();
        var date = new Date();
        obj.time = date.toLocaleString();
        obj.name = document.getElementById("name").value;
        obj.email = document.getElementById("email").value;
        
        if(!obj.name || !obj.email)
        {
            return;
        }
        
        if (sessionStorage.data) {
            data = JSON.parse(sessionStorage.getItem("data"));
        }
        else {
            data = [];
        }

        data.push(obj);

        sessionStorage.setItem("data", JSON.stringify(data));

        var retrivedata = sessionStorage.getItem("data");


        

    }


    function show() 
    {
    
        var retrive = sessionStorage.getItem("data");
        retrive = JSON.parse(retrive);

        var main = document.getElementById("show");

         
             retrive.map((item)=>{
                var newli = document.createElement("li");
                newli.setAttribute("style","margin: 30px auto");

                newli.innerHTML = `Time : ${item.time} , User : ${item.name} , Email: ${item.email}`;

                main.appendChild(newli);

             })
        
        

    }
</script>
</html>

